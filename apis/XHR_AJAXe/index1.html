<!DOCTYPE html>
<html>
    <head>
        <meta>

    </head>
    <body>
        <div>
            <button id="loadTextFile">Click Here to Load File</button>
            <div id="loadTextHere"></div>
        </div>
        <script type='text/javascript' src='keys.js'></script>
    <script>
        document.getElementById("loadTextFile").addEventListener('click', loadText);

        function loadText(config) {
            var xhrCall = new XMLHttpRequest();
            console.log(keys.apiKey);
            const apiKey =  keys.apiKey;
            console.log(apiKey);
            var url = 'https://newsapi.org/v2/top-headlines?' +
          'country=us&' + apiKey; 
          console.log(url);
            xhrCall.open('GET', url, true);
            //console.log(xhrCall);
            
            //.onload checks the readystate automatically but not the status
            xhrCall.onload = function() {
                    var data = JSON.parse(this.responseText).articles;
                    console.log(typeof(data));
                    console.log(data);
                    //convert data (an object) into an array (of key value pairs)
                    // var result = Object.keys(data).map(function(key) {
                    //     return [Number(key), data[key]];
                    // });
                    // console.log(typeof(result));
                    var stuff = Object.entries(data);
                    console.log(typeof(data));
console.log(typeof(Object.entries(data)));
console.log(data);
///////////////// -----use data to crate array
for (var i = 0; i < data.length; i++) {
    console.log(data[i]);
} 




var publisher = result[0][1].author;
console.log(publisher);

var postUrl = result[0][1].url;
console.log(postUrl);

var title = 
console.log(title);

                    
            }

            xhrCall.send();
            
        }
    </script>
    </body>
</html>

