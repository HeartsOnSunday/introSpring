<!DOCTYPE html>
<html>
    <head>
        <meta>

    </head>
    <body>
        <div>
            <button id="loadTextFile">Click Here to Load File</button>
            <div id="loadTextHere">
                <span class="showData">Show Articles</span>
            </div>
        </div>
        <script type='text/javascript' src='keys1.js'></script>
    <script>
        document.getElementById("loadTextFile").addEventListener('click', loadText);

        function loadText() {
            var xhrCall = new XMLHttpRequest();
           // console.log(config.apiKey);
            const apiKey = config.apiKey;
           // console.log(apiKey);
            var url = 'https://newsapi.org/v2/top-headlines?' +
          'country=us&' + apiKey; 
          console.log(url);
            xhrCall.open('GET', url, true);
            //console.log(xhrCall);
            
            //.onload checks the readystate automatically but not the status
            xhrCall.onload = function() {
                    var data = Object.entries(JSON.parse(this.responseText).articles);
                    //console.log(typeof(data));
                    console.log(data);
                    //convert data (an object) into an array (of key value pairs)
                    // var result = Object.keys(data).map(function(key) {
                    //     return [Number(key), data[key]];
                    // });
                    // console.log(typeof(result));
/*               var stuff = Object.entries(data);
                    console.log(stuff);      */
      //console.log(typeof(data));
//console.log(typeof(Object.entries(data)));
//console.log(data);
///////////////// -----use data to crate array
//Replace with forEach or .map 
for (var i = 0; i < data.length; i++) {
    console.log(data[i]);
    var responseNum = data[i][0];
    //test Healdine
    var title = data[i][1].title;
    console.log(title);


  var p = document.createElement("p");
  var articleMod = document.createTextNode(responseNum);
  p.appendChild(articleMod); //create paragraphs // append paragraphs
  var parent = document.getElementById("loadTextFile");
  //var parent = document.getElementsByClassName("showData");
 parent.appendChild(p);


  //document.getElementsByClassName('showData');
  
} 


/*

var publisher = result[0][1].author;
console.log(publisher);

var postUrl = result[0][1].url;
console.log(postUrl);

var title = 
console.log(title);
*/
                    
            }

            xhrCall.send();
            
        }
    </script>
    </body>
</html>

<!-- Remove console.log()s 
    
    Delete Comments, API Key works

render data inide elements


//data is rendering
//comment out crap
//delete comments

//write html in variable to write in for loop

//and why is data object so WEIRD?? CHECK data type



-->
